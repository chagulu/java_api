<aside th:fragment="sidebar">
    <div class="sidebar">
        <div class="scrollbar-inner sidebar-wrapper">
            <div class="user">
                <div class="photo">
                    <img src="/images/ananta_logo.png" alt="Logo">
                </div>
                <div class="info">
                    <a href="#collapseExample" data-toggle="collapse" aria-expanded="true" id="adminProfileLink"> <span>
                            <span id="sidebarAdminName">Admin Name</span> <span class="user-level">Administrator</span>
                            <span class="caret"></span>
                        </span>
                    </a>
                    <div class="clearfix"></div>
                    <div class="collapse show" id="collapseExample">
                        <ul class="nav">
                            <li><a href="#"><span class="link-collapse">My Profile</span></a></li>
                            <li><a href="#"><span class="link-collapse">Edit Profile</span></a></li>
                            <li><a href="#"><span class="link-collapse">Settings</span></a></li>
                        </ul>
                    </div>
                </div>
            </div>

            <ul class="nav">
                <li class="nav-item active">
                    <a href="/admin/dashboard">
                        <i class="la la-dashboard"></i>
                        <p>Dashboard</p>
                        <span class="badge badge-count">5</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="/admin/visitors">
                        <i class="la la-table"></i>
                        <p>Visitors List</p>
                        <span class="badge badge-count">14</span>
                     </a>
                
                <li class="nav-item">
                    <a href="/admin/residences">
                        <i class="la la-keyboard-o"></i>
                        <p>Residence List</p>
                        <span class="badge badge-count">50</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="/admin/residences/register">
                        <i class="la la-th"></i>
                        <p>Residence register</p>
                        <span class="badge badge-count">6</span>
                    </a>
                </li>
            </ul>
        </div>
    </div>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const adminUsername = localStorage.getItem('adminUsername');
            const sidebarAdminNameElement = document.getElementById('sidebarAdminName');

            if (adminUsername && sidebarAdminNameElement) {
                sidebarAdminNameElement.textContent = adminUsername;
            } else if (!adminUsername) {
                console.warn("Admin username not found in localStorage for sidebar.");
                // Optionally, redirect if not on login page and token/username is critical
                // if (window.location.pathname !== '/admin/login' && !localStorage.getItem('adminToken')) {
                //     window.location.href = '/admin/login';
                // }
            } else {
                console.warn("Sidebar admin name element not found.");
            }
        });
    </script>
</aside>